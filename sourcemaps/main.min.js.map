{"version":3,"sources":["01_main.js"],"names":["GraphModal","[object Object]","t","this","options","Object","assign","isOpen","isClose","modal","document","querySelector","speed","animation","_reOpen","_nextContainer","modalContainer","previousActiveElement","_focusElements","_fixBlocks","querySelectorAll","events","addEventListener","e","target","closest","dataset","graphPath","s","graphAnimation","i","graphSpeed","parseInt","open","close","bind","window","keyCode","which","focusCatch","classList","contains","activeElement","reOpen","style","setProperty","add","disableScroll","setTimeout","focusTrap","remove","enableScroll","Array","prototype","slice","call","indexOf","shiftKey","length","focus","preventDefault","scrollY","lockPadding","body","position","top","unlockPadding","scroll","left","removeAttribute","innerWidth","offsetWidth","forEach","paddingRight","home","dishes","contact","link","getElementsByClassName","place","scrollTo","offsetTop","behavior","menu","burger","block","toggle","form","getElementById","async","formSend","formValidate","FormData","error","formReq","input","formRemoveError","phoneNumberValidation","formAddError","value","parentElement","test","addButton","basketButton","priceBlock","basketGoodsCount","cartContent","cartBlock","cleanCart","cartGoodsCount","cartPrice","cartEmpty","totalCount","totalPrice","reloadCart","hide","innerHTML","display","increseAndProduceItem","id","action","itemNumber","number","count","price","console","log","removeCartData","cartItem","loadCartData","fetch","then","response","json","data","dataItem","image","title","description","size","cartItemDelete","itemAdd","itemRemove","dishesBlock","dishesMore","dishQuantity","dataLength","loadDishes","quantity","item","itemId","pos","event"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["class GraphModal{constructor(t){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},t),this.modal=document.querySelector(\".modal\"),this.speed=300,this.animation=\"fade\",this._reOpen=!1,this._nextContainer=!1,this.modalContainer=!1,this.isOpen=!1,this.previousActiveElement=!1,this._focusElements=[\"a[href]\",\"input\",\"select\",\"textarea\",\"button\",\"iframe\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],this._fixBlocks=document.querySelectorAll(\".fix-block\"),this.events()}events(){this.modal&&(document.addEventListener(\"click\",function(t){const e=t.target.closest(\"[data-graph-path]\");if(e){let t=e.dataset.graphPath,s=e.dataset.graphAnimation,i=e.dataset.graphSpeed;return this.animation=s||\"fade\",this.speed=i?parseInt(i):300,this._nextContainer=document.querySelector(`[data-graph-target=\"${t}\"]`),void this.open()}t.target.closest(\".modal__close\")&&this.close()}.bind(this)),window.addEventListener(\"keydown\",function(t){27==t.keyCode&&this.isOpen&&this.close(),9==t.which&&this.isOpen&&this.focusCatch(t)}.bind(this)),this.modal.addEventListener(\"click\",function(t){t.target.classList.contains(\"modal__container\")||t.target.closest(\".modal__container\")||!this.isOpen||this.close()}.bind(this)))}open(t){if(this.previousActiveElement=document.activeElement,this.isOpen)return this.reOpen=!0,void this.close();this.modalContainer=this._nextContainer,t&&(this.modalContainer=document.querySelector(`[data-graph-target=\"${t}\"]`)),this.modal.style.setProperty(\"--transition-time\",`${this.speed/1e3}s`),this.modal.classList.add(\"is-open\"),this.disableScroll(),this.modalContainer.classList.add(\"modal-open\"),this.modalContainer.classList.add(this.animation),setTimeout(()=>{this.options.isOpen(this),this.modalContainer.classList.add(\"animate-open\"),this.isOpen=!0,this.focusTrap()},this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove(\"animate-open\"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove(\"is-open\"),this.modalContainer.classList.remove(\"modal-open\"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen&&(this.reOpen=!1,this.open()))}focusCatch(t){const e=this.modalContainer.querySelectorAll(this._focusElements),s=Array.prototype.slice.call(e),i=s.indexOf(document.activeElement);t.shiftKey&&0===i&&(s[s.length-1].focus(),t.preventDefault()),t.shiftKey||i!==s.length-1||(s[0].focus(),t.preventDefault())}focusTrap(){const t=this.modalContainer.querySelectorAll(this._focusElements);this.isOpen?t.length&&t[0].focus():this.previousActiveElement.focus()}disableScroll(){let t=window.scrollY;this.lockPadding(),document.body.classList.add(\"disable-scroll\"),document.body.dataset.position=t,document.body.style.top=-t+\"px\"}enableScroll(){let t=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top=\"auto\",document.body.classList.remove(\"disable-scroll\"),window.scroll({top:t,left:0}),document.body.removeAttribute(\"data-position\")}lockPadding(){let t=window.innerWidth-document.body.offsetWidth+\"px\";this._fixBlocks.forEach(e=>{e.style.paddingRight=t}),document.body.style.paddingRight=t}unlockPadding(){this._fixBlocks.forEach(t=>{t.style.paddingRight=\"0px\"}),document.body.style.paddingRight=\"0px\"}}\r\n\r\n// Scroll to block \r\nlet home = document.querySelector(\".first-screen\");\r\nlet dishes = document.querySelector(\".dishes\");\r\nlet contact = document.querySelector(\".contact\");\r\nlet link = document.getElementsByClassName(\"link\");\r\n\r\nfunction scroll(place) {\r\n    window.scrollTo({\r\n        top: place.offsetTop,\r\n        behavior: \"smooth\"\r\n    })\r\n    menu.classList.remove(\"_active\");\r\n    burger.classList.remove(\"_active\");\r\n    body.classList.remove(\"_lock\");\r\n}\r\n\r\nfor (let i = 0; i < link.length; i++) {\r\n    link[i].addEventListener(\"click\", function() {\r\n        let block = this.dataset.block;\r\n        if (block == \"home\") {\r\n            scroll(home);\r\n        } else if (block == \"dishes\") {\r\n            scroll(dishes);\r\n        } else if (block == \"contact\") {\r\n            scroll(contact);\r\n        }\r\n    })\r\n}\r\n\r\n// Menu burger\r\nlet body = document.querySelector(\".body\");\r\nlet burger = document.querySelector(\".header__burger\");\r\nlet menu = document.querySelector(\".header__menu\");\r\n\r\nburger.addEventListener(\"click\", function() {\r\n    menu.classList.toggle(\"_active\");\r\n    burger.classList.toggle(\"_active\");\r\n    body.classList.toggle(\"_lock\");\r\n})\r\n\r\n// Form send\r\nlet form = document.getElementById(\"form\");\r\nform.addEventListener(\"submit\", formSend);\r\n\r\nasync function formSend(e) {\r\n    e.preventDefault();\r\n\r\n    let error = formValidate(form);\r\n    let formData = new FormData(form);\r\n\r\n    if (error === 0) {\r\n        // form.classList.add(\"_sending\");\r\n        // let response = await fetch(\"sendmail.php\", {\r\n        //     method: \"POST\",\r\n        //     body: formData,\r\n        // });\r\n\r\n        // if (response.ok) {\r\n        //     let result = await response.json();\r\n        //     alert(result.message);\r\n        //     form.reset();\r\n        //     form.classList.remove(\"_sending\");\r\n        // } else {\r\n        //     alert(\"error\");\r\n        //     form.classList.remove(\"_sending\");\r\n        // }\r\n    } \r\n}\r\n\r\n// Form validation\r\nfunction formValidate(form) {\r\n    let error = 0;\r\n    let formReq = document.querySelectorAll(\"._req\");\r\n\r\n    for (let i = 0; i < formReq.length; i++) {\r\n        const input = formReq[i];\r\n        formRemoveError(input);\r\n\r\n        if (input.classList.contains(\"_phone-number\")) {\r\n            if (!phoneNumberValidation(input)) {\r\n                formAddError(input);\r\n                error++;\r\n            } \r\n        } else {\r\n            if (input.value === \"\") {\r\n                formAddError(input);\r\n                error++;\r\n            }\r\n        }\r\n\r\n    }\r\n    return error;\r\n}\r\nfunction formAddError(input) {\r\n    input.parentElement.classList.add(\"_error\");\r\n    input.classList.add(\"_error\");\r\n}\r\nfunction formRemoveError(input) {\r\n    input.parentElement.classList.remove(\"_error\");\r\n    input.classList.remove(\"_error\");\r\n}\r\nfunction phoneNumberValidation(input) {\r\n    let expression = /^\\+380\\d{3}\\d{2}\\d{2}\\d{2}$/;\r\n    return expression.test(input.value);\r\n}\r\n\r\n// Cart\r\nlet addButton = document.querySelectorAll(\".basket-add\");\r\nlet basketButton = document.querySelector(\".dishes-basket__button\");\r\nlet priceBlock = document.querySelector(\".dishes-basket__price\");\r\nlet basketGoodsCount = document.querySelector(\".dishes-basket__count\");\r\n\r\nlet cartContent = document.querySelector(\".dishes-basket-popup__content\");\r\nlet cartBlock  = document.querySelector(\".dishes-basket-popup__block\");\r\nlet cleanCart = document.querySelector(\".dishes-basket-popup__clean\");\r\nlet cartGoodsCount = document.querySelector(\".dishes-basket-popup__count span\");\r\nlet cartPrice = document.querySelector(\".dishes-basket-popup__total span\");\r\nlet cartEmpty = document.querySelector(\".dishes-basket-popup__empty\");\r\n\r\nlet totalCount = 0;\r\nlet totalPrice = 0;\r\n\r\nfunction reloadCart() {\r\n    let hide = document.querySelectorAll(\".popup-hide\");\r\n    cartGoodsCount.innerHTML = `${totalCount}`\r\n    basketGoodsCount.innerHTML = `${totalCount}`;\r\n    cartPrice.innerHTML = `${totalPrice} UAH`;\r\n    priceBlock.innerHTML = `= ${totalPrice} UAH`\r\n\r\n    if (totalCount == 0) {\r\n        for (let i = 0; i < hide.length; i++) {\r\n            hide[i].style.display = \"none\";\r\n        }\r\n        basketGoodsCount.classList.add(\"_unvisible\");\r\n        cartEmpty.classList.add(\"_visible\");\r\n        \r\n    } else {\r\n        for (let i = 0; i < hide.length; i++) {\r\n            hide[i].style.display = \"flex\";\r\n        }\r\n        basketGoodsCount.classList.remove(\"_unvisible\");\r\n        cartEmpty.classList.remove(\"_visible\");\r\n    }\r\n}\r\nreloadCart(); \r\n\r\n// show cart price\r\nbasketButton.addEventListener(\"mouseover\", function() {\r\n        priceBlock.classList.add(\"_active\"); \r\n})\r\nbasketButton.addEventListener(\"mouseout\", function() {\r\n    priceBlock.classList.remove(\"_active\");\r\n})\r\n\r\n// cart popup\r\nbasketButton.addEventListener(\"click\", function() {\r\n    new GraphModal().open('dish-modal');\r\n})\r\n\r\n// clean cart\r\ncleanCart.addEventListener(\"click\", function() {\r\n    cartBlock.innerHTML = \"\";\r\n    totalCount = 0;\r\n    totalPrice = 0;\r\n    reloadCart();\r\n})\r\n\r\nfunction increseAndProduceItem(id, action) {\r\n    let itemNumber = document.querySelectorAll(\".dishes-basket-popup__number\");\r\n\r\n    for (let i = 0; i < itemNumber.length; i++) {\r\n        if (id == itemNumber[i].dataset.id) {\r\n            let number = parseInt(itemNumber[i].dataset.count);\r\n\r\n            if (action == \"increase\" && number < 20) {\r\n                    number++;\r\n                    itemNumber[i].dataset.count = `${number}`;\r\n                    totalCount++;\r\n                    totalPrice = totalPrice + parseInt(itemNumber[i].dataset.price);\r\n                    itemNumber[i].innerHTML = `${number}`;\r\n                    reloadCart();\r\n            } else if (action == \"reduce\" && number > 1) {\r\n                console.log(number);\r\n                number--;\r\n                itemNumber[i].dataset.count = `${number}`;\r\n                totalCount--;\r\n                totalPrice = totalPrice - parseInt(itemNumber[i].dataset.price);\r\n                itemNumber[i].innerHTML = `${number}`;\r\n                reloadCart();\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction removeCartData(id) {\r\n    let cartItem = document.querySelectorAll(\".dishes-basket-popup__item\");\r\n    let itemNumber = document.querySelectorAll(\".dishes-basket-popup__number\");\r\n    let cont = document.querySelectorAll(\".dishes-basket-popup__cont\");\r\n\r\n    for (let i = 0; i < cartItem.length; i++) {\r\n        if (id == cartItem[i].dataset.id) {\r\n            totalCount = totalCount - parseInt(itemNumber[i].dataset.count);\r\n            totalPrice = totalPrice - parseInt(cartItem[i].dataset.price * itemNumber[i].dataset.count);\r\n            cartItem[i].dataset.id = \"deleted\";\r\n            cartItem[i].style.display = \"none\";\r\n            // cartItem[i].innerHTML = \"\";\r\n            reloadCart();\r\n        }\r\n    }\r\n}\r\nfunction loadCartData(id) {\r\n    fetch(\"./../data.json\")\r\n    .then((response) => {\r\n        return response.json();\r\n    })\r\n    .then((data) => {\r\n        for (let dataItem of data) {\r\n            if (dataItem.id == id) {\r\n                cartBlock.innerHTML += `\r\n\r\n                <div class=\"dishes-basket-popup__item\" data-price=\"${dataItem.price}\" data-id=\"${dataItem.id}\"> \r\n                <img src=\"${dataItem.image}\" alt=\"\" class=\"dishes-basket-popup__image\">\r\n                <div class=\"dishes-basket-popup__info\">\r\n                    <div class=\"dishes-basket-popup__caption\">${dataItem.title}</div>\r\n                    <div class=\"dishes-basket-popup__description\">\r\n                        <div class=\"dishes-basket-popup__description-text\">${dataItem.description}, <span>${dataItem.size} см</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"dishes-basket-popup__items-count count\">\r\n                    <div class=\"count__remove dishes-basket-popup__remove\" data-id=\"${dataItem.id}\"><span class=\"--svg__minus\"></span></div>\r\n                    <div class=\"count__number dishes-basket-popup__number\" data-price=\"${dataItem.price}\" data-count=\"1\" data-id=\"${dataItem.id}\">1</div>  \r\n                    <div class=\"count__add dishes-basket-popup__add\" data-id=\"${dataItem.id}\"><span class=\"--svg__plus\"></div>\r\n                </div>\r\n                <div class=\"dishes-basket-popup__price\">${dataItem.price} UAH</div>\r\n                <div class=\"dishes-basket-popup__delete\" data-id=\"${dataItem.id}\">\r\n                    delete\r\n                    <span class=\"--svg__delete\"></span>\r\n                </div>\r\n                </div> \r\n                `;\r\n                totalCount++;\r\n                totalPrice = parseInt(totalPrice) + parseInt(dataItem.price);\r\n                reloadCart();\r\n            }\r\n        }\r\n    })\r\n    .then(() => {\r\n\r\n        // delete cart item\r\n        let cartItemDelete = document.querySelectorAll(\".dishes-basket-popup__delete\");\r\n        for (let i = 0; i < cartItemDelete.length; i++) {\r\n            cartItemDelete[i].addEventListener(\"click\", function() {\r\n                let itemId = this.dataset.id;\r\n                removeCartData(itemId);\r\n            })\r\n        }\r\n\r\n        // increase and reduce item count\r\n        let itemAdd = document.querySelectorAll(\".dishes-basket-popup__add\");\r\n        for (let i = 0; i < itemAdd.length; i++) {\r\n            itemAdd[i].addEventListener(\"click\", function() {\r\n                let id = this.dataset.id;\r\n                increseAndProduceItem(id, \"increase\");\r\n            })\r\n        }\r\n\r\n        let itemRemove = document.querySelectorAll(\".dishes-basket-popup__remove\");\r\n        for (let i = 0; i < itemRemove.length; i++) {\r\n            itemRemove[i].addEventListener(\"click\", function() {\r\n                let id = this.dataset.id;\r\n                increseAndProduceItem(id, \"reduce\");\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n// Show dishes \r\nconst dishesBlock = document.querySelector(\".dishes-block\");\r\nconst dishesMore = document.querySelector(\".dishes__more\");\r\nlet dishQuantity = 8;\r\nlet dataLength = null;\r\n\r\nif (dishesBlock) {\r\n   \r\n    function loadDishes(quantity = 8) {\r\n        fetch(\"./../data.json\")\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                dataLength = data.length;\r\n                dishesBlock.innerHTML = \"\"\r\n\r\n                for (let i = 0; i < dataLength; i++) {\r\n                    if (i < quantity) {\r\n                        let item = data[i];\r\n                        \r\n                        dishesBlock.innerHTML += `\r\n                        <div class=\"dishes-block__item data-id=\"${item.id}\">\r\n                            <img src=\"${item.image}\" alt=\"\" class=\"dishes-block__image\">\r\n                            <div class=\"dishes-block__main\">\r\n                                <div class=\"dishes-block__name\">${item.title}</div>\r\n                                <div class=\"dishes-block__size\">${item.size}</div>\r\n                            </div>\r\n                            <div class=\"dishes-block__description\">${item.description}</div>\r\n                            <div class=\"dishes-block__price\">${item.price} UAH  </div>\r\n                            <div class=\"dishes-block__add basket-add\" data-id=\"${item.id}\">\r\n                                <div class=\"basket-add__ico basket-add__off --svg__packet-orange\"></div>\r\n                                <div class=\"basket-add__ico basket-add__on --svg__packet-white\"></div>\r\n                            </div>\r\n                        </div>\r\n      \r\n                        `;\r\n                    }\r\n                }\r\n            })\r\n            .then(() => {\r\n\r\n                // cart item add\r\n                let addButton = document.querySelectorAll(\".basket-add\");\r\n                \r\n                for (let i = 0; i < addButton.length; i++) {\r\n                    addButton[i].addEventListener(\"click\", function() {\r\n                        let cartItem = document.querySelectorAll(\".dishes-basket-popup__item\");\r\n                        let itemId = this.dataset.id;\r\n                        let pos = false;\r\n\r\n                        for (let i = 0; i < cartItem.length; i++) {\r\n                            if (itemId == cartItem[i].dataset.id) {\r\n                                pos = true;\r\n                            } else {\r\n                                pos = false;\r\n                            }\r\n                        }\r\n\r\n                        if (!pos) {\r\n                            loadCartData(itemId);\r\n                        } else {\r\n                            increseAndProduceItem(itemId, \"increase\");\r\n                        }\r\n                    })\r\n                }\r\n               \r\n            })\r\n    }\r\n    loadDishes(dishQuantity);\r\n\r\n    // load more dishes\r\n    dishesMore.addEventListener(\"click\", function(event) {\r\n        dishQuantity = dishQuantity + 4;\r\n        loadDishes(dishQuantity);\r\n\r\n        if (dishQuantity >= dataLength) {\r\n            dishesMore.style.display = \"none\";\r\n        } else {\r\n            dishesMore.style.display = \"block\";\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n"]}